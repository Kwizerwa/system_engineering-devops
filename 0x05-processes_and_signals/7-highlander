#!/usr/bin/env bash
# 67-stop_me_if_you_can: kills the 7-highlander process using pgrep instead of ps|grep

# Find PIDs of the script named '7-highlander' (or matching argument) using pgrep
pids=$(pgrep -f '7-highlander')

if [[ -z "$pids" ]]; then
  echo "No 7-highlander process found."
  exit 1
fi

for pid in $pids; do
  kill "$pid"
done

echo "Sent SIGTERM to 7-highlander process(es): $pids"
